import React from 'react';
import { Card } from 'react-bootstrap';
import axios from 'axios';

class ExploitDetails extends React.Component {
  state = {
    exploit: {},
  };

  componentDidMount() {
    const { id } = this.props.match.params;
    axios.get(`/exploits/${id}`)
      .then(res => {
        const exploit = res.data[0];
        this.setState({ exploit });
      })
      .catch(error => console.log(error));
  }

  render() {
    const { exploit } = this.state;

    return (
      <Card>
        <Card.Body>
          <Card.Title>{exploit.description}</Card.Title>
          <Card.Subtitle className="mb-2 text-muted">{exploit.platform}</Card.Subtitle>
          <Card.Text>{exploit.type}</Card.Text>
          <Card.Text>{exploit.date}</Card.Text>
          <Card.Text>{exploit.author}</Card.Text>
        </Card.Body>
      </Card>
    );
  }
}

export default ExploitDetails;
